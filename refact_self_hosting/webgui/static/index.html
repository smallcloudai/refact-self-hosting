<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css"
    integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="#">
  <title>Self Hosting - Refact</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="/">
        <svg width="121" height="33" viewBox="0 0 121 33" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 32.732V0.756836H9.74697V4.77426H5.08967V28.7019H9.74697V32.732H0Z" fill="#FF3636"></path>
          <path
            d="M11.6278 16.8518V14.3125C13.0526 14.3125 14.0409 14.0219 14.5927 13.4408C15.1444 12.8596 15.4203 11.9206 15.4203 10.6235V7.83154C15.4203 6.27342 15.6304 5.02693 16.0504 4.09205C16.4786 3.14876 17.0716 2.43708 17.8293 1.95701C18.5952 1.47694 19.5011 1.15689 20.5471 0.99687C21.593 0.836847 22.7378 0.756836 23.9814 0.756836V4.77426C23.0096 4.77426 22.2683 4.9048 21.7577 5.1659C21.2553 5.41856 20.9136 5.81441 20.7324 6.35343C20.5512 6.88404 20.4606 7.55782 20.4606 8.37478V12.0637C20.4606 12.7038 20.3453 13.3144 20.1147 13.8956C19.8841 14.4683 19.4558 14.9778 18.8299 15.4242C18.204 15.8622 17.3104 16.2117 16.1492 16.4728C14.988 16.7255 13.4808 16.8518 11.6278 16.8518ZM23.9814 32.732C22.7378 32.732 21.593 32.652 20.5471 32.492C19.5011 32.3319 18.5952 32.0119 17.8293 31.5318C17.0716 31.0517 16.4786 30.3401 16.0504 29.3968C15.6304 28.4619 15.4203 27.2154 15.4203 25.6573V22.8527C15.4203 21.5556 15.1444 20.6166 14.5927 20.0354C14.0409 19.4543 13.0526 19.1637 11.6278 19.1637V16.6244C13.4808 16.6244 14.988 16.7549 16.1492 17.016C17.3104 17.2687 18.204 17.6182 18.8299 18.0646C19.4558 18.5026 19.8841 19.0121 20.1147 19.5932C20.3453 20.166 20.4606 20.7766 20.4606 21.4251V25.114C20.4606 25.9226 20.5512 26.5922 20.7324 27.1228C20.9136 27.6618 21.2553 28.0576 21.7577 28.3103C22.2683 28.5714 23.0096 28.7019 23.9814 28.7019V32.732ZM11.6278 19.1637V14.3125H16.0627V19.1637H11.6278Z"
            fill="#FF3636"></path>
          <path
            d="M35 23.4768V21.7968H38.761V11.4928H35V9.81284H40.81V12.8648C41.2216 11.8195 41.8391 11.0168 42.6624 10.4568C43.4857 9.87817 44.44 9.58884 45.5253 9.58884C45.9557 9.58884 46.3393 9.62617 46.6761 9.70084C47.0129 9.75684 47.4152 9.8595 47.883 10.0088V11.8848C47.4152 11.7355 46.9661 11.6142 46.5357 11.5208C46.1241 11.4275 45.7124 11.3808 45.3008 11.3808C44.2903 11.3808 43.3922 11.6422 42.6063 12.1648C41.8204 12.6875 41.2216 13.4342 40.81 14.4048V21.7968H44.7955V23.4768H35Z"
            fill="black"></path>
          <path
            d="M56.0116 23.7568C54.7017 23.7568 53.5229 23.4488 52.4751 22.8328C51.4272 22.1982 50.5945 21.3488 49.9771 20.2848C49.3783 19.2022 49.0789 17.9888 49.0789 16.6448C49.0789 15.3008 49.3689 14.0968 49.949 13.0328C50.5291 11.9688 51.3149 11.1288 52.3067 10.5128C53.3171 9.89684 54.4398 9.58884 55.6748 9.58884C56.9659 9.58884 58.1166 9.89684 59.127 10.5128C60.1375 11.1102 60.9327 11.9315 61.5128 12.9768C62.0928 14.0035 62.3829 15.1702 62.3829 16.4768V17.0928H51.0717C51.1465 18.0262 51.4085 18.8662 51.8576 19.6128C52.3067 20.3408 52.8961 20.9195 53.6258 21.3488C54.3743 21.7595 55.1976 21.9648 56.0958 21.9648C56.9004 21.9648 57.6488 21.8155 58.3412 21.5168C59.0522 21.1995 59.6416 20.7702 60.1094 20.2288L61.5408 21.4888C60.8111 22.2355 59.9784 22.8048 59.0428 23.1968C58.1073 23.5702 57.0968 23.7568 56.0116 23.7568ZM51.1278 15.5808H60.362C60.2497 14.7595 59.9691 14.0315 59.52 13.3968C59.0896 12.7622 58.5376 12.2675 57.864 11.9128C57.2091 11.5395 56.47 11.3528 55.6467 11.3528C54.8795 11.3528 54.1778 11.5302 53.5416 11.8848C52.9054 12.2395 52.3721 12.7342 51.9418 13.3688C51.5301 14.0035 51.2588 14.7408 51.1278 15.5808Z"
            fill="black"></path>
          <path
            d="M68.1819 23.4768V11.4928H63.4946V9.81284H68.1819V7.06884C68.1819 4.19417 69.8379 2.75684 73.1498 2.75684C73.7112 2.75684 74.2725 2.81284 74.8339 2.92484C75.4139 3.03684 75.9846 3.1955 76.546 3.40084V5.30483C75.8536 5.02483 75.2455 4.83817 74.7216 4.74484C74.1977 4.63284 73.6082 4.57684 72.9533 4.57684C72.0739 4.57684 71.4003 4.80084 70.9325 5.24884C70.4647 5.67817 70.2308 6.39684 70.2308 7.40484V9.81284H76.546V11.4928H70.2308V23.4768H68.1819Z"
            fill="black"></path>
          <path
            d="M84.1694 23.7568C83.1776 23.7568 82.2888 23.5795 81.5029 23.2248C80.7358 22.8702 80.137 22.3848 79.7066 21.7688C79.2763 21.1342 79.0611 20.4062 79.0611 19.5848C79.0611 18.7635 79.2763 18.0448 79.7066 17.4288C80.1557 16.8128 80.7732 16.3368 81.5591 16.0008C82.3637 15.6648 83.2899 15.4968 84.3378 15.4968C85.1611 15.4968 85.9283 15.5808 86.6393 15.7488C87.3503 15.8982 88.024 16.1595 88.6601 16.5328V14.9648C88.6601 13.7515 88.3514 12.8368 87.7339 12.2208C87.1164 11.6048 86.1996 11.2968 84.9833 11.2968C84.291 11.2968 83.5987 11.3995 82.9063 11.6048C82.214 11.7915 81.4375 12.1275 80.5767 12.6128L79.7347 11.0728C80.7264 10.5315 81.6714 10.1488 82.5695 9.92484C83.4677 9.70084 84.3565 9.58884 85.2359 9.58884C86.9761 9.58884 88.314 10.0275 89.2496 10.9048C90.2039 11.7822 90.681 13.0422 90.681 14.6848V23.4768H88.6601V21.9088C88.024 22.5435 87.3316 23.0102 86.5832 23.3088C85.8534 23.6075 85.0488 23.7568 84.1694 23.7568ZM81.0258 19.5288C81.0258 20.3315 81.3533 20.9755 82.0082 21.4608C82.6631 21.9462 83.5238 22.1888 84.5904 22.1888C85.395 22.1888 86.1247 22.0675 86.7796 21.8248C87.4532 21.5635 88.0801 21.1528 88.6601 20.5928V17.9608C88.0801 17.6062 87.4626 17.3542 86.8077 17.2048C86.1528 17.0555 85.4324 16.9808 84.6465 16.9808C83.5612 16.9808 82.6818 17.2142 82.0082 17.6808C81.3533 18.1475 81.0258 18.7635 81.0258 19.5288Z"
            fill="black"></path>
          <path
            d="M100.494 23.7568C99.2025 23.7568 98.0331 23.4488 96.9852 22.8328C95.9561 22.1982 95.1328 21.3488 94.5153 20.2848C93.9165 19.2208 93.6171 18.0168 93.6171 16.6728C93.6171 15.3288 93.9165 14.1248 94.5153 13.0608C95.1328 11.9782 95.9561 11.1288 96.9852 10.5128C98.0331 9.89684 99.2025 9.58884 100.494 9.58884C101.766 9.58884 102.917 9.86883 103.946 10.4288C104.975 10.9888 105.789 11.7448 106.388 12.6968L104.732 13.7328C104.301 13.0235 103.712 12.4635 102.964 12.0528C102.234 11.6235 101.411 11.4088 100.494 11.4088C99.5581 11.4088 98.7254 11.6422 97.9957 12.1088C97.2659 12.5568 96.6858 13.1728 96.2555 13.9568C95.8438 14.7408 95.638 15.6462 95.638 16.6728C95.638 17.6808 95.8438 18.5862 96.2555 19.3888C96.6858 20.1728 97.2659 20.7982 97.9957 21.2648C98.7254 21.7128 99.5581 21.9368 100.494 21.9368C101.411 21.9368 102.234 21.7315 102.964 21.3208C103.712 20.8915 104.301 20.3222 104.732 19.6128L106.388 20.6488C105.789 21.6008 104.975 22.3568 103.946 22.9168C102.917 23.4768 101.766 23.7568 100.494 23.7568Z"
            fill="black"></path>
          <path
            d="M117.379 23.7568C115.845 23.7568 114.666 23.4302 113.843 22.7768C113.038 22.1048 112.636 21.1342 112.636 19.8648V11.4928H107.949V9.81284H112.636V6.06084L114.685 5.58483V9.81284H121V11.4928H114.685V19.5288C114.685 20.3875 114.919 21.0035 115.387 21.3768C115.854 21.7502 116.528 21.9368 117.407 21.9368C117.95 21.9368 118.511 21.8808 119.091 21.7688C119.671 21.6568 120.308 21.4702 121 21.2088V23.0568C120.383 23.2808 119.774 23.4488 119.176 23.5608C118.577 23.6915 117.978 23.7568 117.379 23.7568Z"
            fill="black"></path>
        </svg>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item" role="presentation">
            <button class="nav-link main-tab-button main-active" id="model-tab" data-tab="model-hosting">Model Hosting</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link main-tab-button" id="upload-tab" data-tab="upload" type="button">Sources</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link main-tab-button" id="finetune-tab" data-tab="finetune" type="button">Finetune</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link main-tab-button" id="logs-tab" data-tab="server-logs" type="button">Server Logs</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link main-tab-button" id="access-tab" data-tab="access-control"
              type="button" disabled>Access Control</button>
          </li>
          <li class="nav-item dropdown ms-auto">
            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
              aria-expanded="false">Settings</a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><button class="nav-link main-tab-button" id="settings-tab" data-tab="settings" type="button">Credentials</button>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container mt-5">
    <div class="main-tab-content">
      <div class="main-tab-pane main-active" id="model-hosting">
        <div class="gpus-pane">
          <div class="gpus-list">
          </div>
        </div>
        <div class="pane">
          <h3>Hosted Models</h3>
          <table class="table align-middle table-hover table-assigned-models">
            <thead>
              <tr>
                <th>Model</th>
                <th>GPUs</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
          <button data-bs-toggle="modal" data-bs-target="#add-model-modal" class="btn btn-primary model-hosting-add"><i class="bi bi-plus-lg"></i> Add Model</button>
        </div>
        <div class="pane">
          <h3>3rd Party APIs</h3>
          <div class="chat-enabler">
            <div class="form-check form-switch">
              <input class="form-check-input" type="checkbox" role="switch" id="enable_chat_gpt">
              <label class="form-check-label" for="enable_chat_gpt">Enable OpenAI API (chat and toolbox)</label>
            </div>
            <div class="chat-enabler-status">
              To enable Chat GPT add your API key in the <span class="main-tab-button fake-link" data-tab="settings">API Keys tab</span>.
            </div>
          </div>
        </div>
        <div class="pane temp-disabled">
          <div class="row">
            <div class="col">
              <label class="form-label">Completions</label>
              <select class="form-select">
                <option selected>- Select -</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
              </select>
            </div>
            <div class="col">
              <label class="form-label">Manual Completions</label>
              <select class="form-select">
                <option selected>- Select -</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="main-tab-pane" id="upload">
        <div class="row">
          <div class="col-12">
            <div class="pane sources-pane">
              <h3>Code and Text Sources</h3>
              <table class="table table-sm align-middle upload-tab-table-files">
                <thead>
                  <tr>
                    <th>Filename</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="upload-tab-table-body-files">
                </tbody>
              </table>
              <div class="sources-buttons">
                <button id="upload-tab-file-button" data-bs-toggle="modal" data-bs-target="#upload-tab-files-modal"
                  type="button" class="btn btn-primary">Upload files…</button>
                <button id="upload-tab-url-button" data-bs-toggle="modal" data-bs-target="#upload-tab-url-modal"
                  type="button" class="btn btn-primary">Add file from URL</button>
                <button id="upload-tab-git-button" data-bs-toggle="modal" data-bs-target="#upload-tab-git-modal"
                  type="button" class="btn btn-primary">Add git repo...</button>
                <button id="tab_files_process_now" type="button" class="btn btn-success tab-files-process-now">Scan
                  sources</button>
              </div>
            </div>
            <div class="pane filetypes-pane">
              <h3>File Type Filter <div class="mt-3 d-grid gap-2 d-md-flex"><button class="btn btn-outline-secondary btn-sm filetypes-checkall">Check all</button><button class="btn filetypes-uncheckall btn-outline-secondary btn-sm">Uncheck all</button></div></h3>
              <div class="row source-files-table">
                <div class="col-7">
                  <table class="table table-striped align-middle upload-tab-table-types">
                    <thead>
                      <tr>
                        <th></th>
                        <th>MIME <i class="upload-tab-table-mime-sort bi bi-caret-up-fill"></i></th>
                        <th>Count <i class="upload-tab-table-count-sort bi bi-caret-up-fill"></i></th>
                      </tr>
                    </thead>
                    <tbody class="upload-tab-table-type-body">
                    </tbody>
                  </table>
                </div>
                <div class="col-5 source-force">
                  <div class="mb-3">
                    <label for="force_exclude" class="form-label">Force exclude from finetune</label>
                    <input type="text" class="form-control" id="force_exclude" placeholder="generated/*,dist/*">
                  </div>
                  <div class="mb-3">
                    <label for="force_include" class="form-label">Force include in finetune</label>
                    <input type="text" class="form-control" id="force_include" placeholder="src/strange_file.py">
                  </div>
                  <div class="sources-stats">
                    <div class="sources-stats-finetune">
                      <h6>Finetune Stats</h6>
                      <div class="sources-stats-fine-accepted">Accepted: <span></span></div>
                      <div class="sources-stats-fine-rejected">Rejected: <span></span></div>
                    </div>
                    <div class="sources-stats-db">
                      <h6>DB Stats</h6>
                      <div class="sources-stats-db-accepted">Accepted: <span></span></div>
                      <div class="sources-stats-db-rejected">Rejected: <span></span></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="pane run-pane">
              <div class="run-pane-grid">
                <div class="ftf-progress progress d-none" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                  <div class="ftf-bar bg-success" style="width: 0%"></div>
                </div>
                <div class="ftf-eta"></div>
                <div class="ftf-status d-none">Status:<span></span></div>
                <div class="ftf-error d-none">Error:<span class="text-danger"></span></div>
                <div class="ftf-stats"></div>
                <button type="button" class="sources-run-button btn btn-primary btn-lg"><i class="bi bi-gpu-card"></i>Run
                  filter</button>
                <button type="button" data-bs-toggle="modal" data-bs-target="#upload-tab-source-settings-modal"
                  class="btn btn-link sources-settings">Settings</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="main-tab-pane" id="finetune">
        <div class="row">
          <div class="col-5">
            <div class="pane">
              <h3>Use Finetuned Model</h3>
              <div class="lora-group">
                <div class="btn-group" role="group" aria-label="basic radio toggle button group">
                  <input type="radio" class="lora-switch btn-check" name="finetune_lora" value="off" id="loraradio1"
                    autocomplete="off">
                  <label class="btn btn-outline-primary" for="loraradio1">Off</label>
                  <input type="radio" class="lora-switch btn-check" name="finetune_lora" value="latest" id="loraradio4"
                    autocomplete="off">
                  <label class="btn btn-outline-primary" for="loraradio4">Latest / Best</label>
                  <input type="radio" class="lora-switch btn-check" name="finetune_lora" value="specific" id="loraradio2"
                    autocomplete="off">
                  <label class="btn btn-outline-primary" for="loraradio2">Specify</label>
                </div>
              </div>
              <div id="lora-switch-run-id">Run:</div>
              <div id="lora-switch-checkpoint">Checkpoint:</div>
            </div>
            <div class="pane">
              <h3>Completed Runs</h3>
              <div class="run-table-wrapper">
                <table class="table table-responsive mt-3 table-sm table-hover table-types">
                  <thead>
                    <tr>
                      <th></th>
                      <th></th>
                      <th>ETA(minutes)</th>
                      <th>Steps</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody class="run-table">
                  </tbody>
                </table>
              </div>
            </div>
            <div class="pane">
              <h3>Start New Finetune<span></span></h3>
              <button id="run_now" type="button" class="btn mt-2 btn-primary tab-finetune-run-now">Run Now</button>
              <button data-bs-toggle="modal" data-bs-target="#finetune-tab-settings-modal" type="button" class="btn mt-2 btn-secondary">Finetune Settings</button>
              <button data-bs-toggle="modal" data-bs-target="#finetune-tab-autorun-settings-modal" type="button" class="btn mt-2 btn-secondary">Autorun Settings</button>
            </div>
          </div>
          <div class="col-7">
            <div class="pane">
              <img src="/tab-finetune-progress-svg/none" class="fine-gfx" alt="">
            </div>
            <div class="pane">
              <ul class="nav nav-tabs" id="myTabs" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="logs-tab" data-bs-toggle="tab" data-bs-target="#logs"
                    type="button" role="tab" aria-controls="logs" aria-selected="true">Logs</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="checkpoints-tab" data-bs-toggle="tab" data-bs-target="#checkpoints"
                    type="button" role="tab" aria-controls="checkpoints" aria-selected="false">Checkpoints</button>
                </li>
              </ul>

              <div class="tab-content mt-2" id="myTabContent">
                <div class="tab-pane fade show active" id="logs" role="tabpanel" aria-labelledby="logs-tab">
                  <pre class="log-container tab-upload-finetune-logs">
                  </pre>
                  <a target="_blank" class="btn mt-2 btn-secondary log-link d-none" href="">View Log</a>
                </div>
                <div class="tab-pane fade" id="checkpoints" role="tabpanel" aria-labelledby="checkpoints-tab">
                  <table class="table table-sm table-hover">
                    <tbody class="table-checkpoints"></tbody>
                  </table>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="main-tab-pane" id="settings">
        <div class="pane">
          <h2>Integrations</h2>
          <div class="mt-3 mb-3 chat-gpt-key">
            <label for="chat_gpt_key" class="form-label">OpenAI API Key</label>
            <input type="text" name="chat_gpt_key" value="" class="form-control" id="chat_gpt_key">
            <div class="d-flex flex-row-reverse mt-3"><button type="button" class="btn btn-primary" id="integrations-save">Save</button></div>
          </div>
        </div>
        <div class="pane">
          <h2>Credentials</h2>
          <div class="settings-row">
            <button data-bs-toggle="modal" data-bs-target="#settings-tab-ssh-modal" type="button" id="settings-new"
              class="btn btn-primary">Generate new SSH Key</button>
            <div class="mt-2 settings-all-keys"></div>
          </div>
        </div>
      </div>
      <div class="main-tab-pane" id="server-logs">
        <div class="pane">
          <pre class="log-container" id="server-log-log-container"></pre>
          <a target="_blank" class="d-none btn btn-secondary latest-log" href="">Latest log</a>
          <div class="daily-logs mt-5"></div>
        </div>
      </div>
      <div class="main-tab-pane" id="access-control">
        <h2>Access Control</h2>
        <p>Content for the Access Control tab goes here.</p>
      </div>
    </div>
  </div>

  <footer class="text-center mt-4 py-3">
    <p>&copy; 2023 Small Magellanic Cloud AI Ltd.</p>
  </footer>

  <div class="modal fade" id="upload-tab-files-modal" tabindex="-1" aria-labelledby="upload-tab-files-modal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="uploadModalLabel">Upload File</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <input type="file" id="tab-upload-file-input" class="form-control">
          </div>
          <div class="progress d-none">
            <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <div id="loaded_n_total" class="uploaded-total"></div>
          <div id="status" class="uploaded-status"></div>
          <button class="tab-upload-file-submit btn btn-primary">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="add-model-modal" tabindex="-1" aria-labelledby="add-model-modal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="urlModalLabel">Add Model</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <table class="table align-middle table-hover table-models">
            <thead>
              <tr>
                <th>Model</th>
                <th>Chat</th>
                <th>Toolbox</th>
              </tr>
            </thead>
            <tbody>
            </tbody>
          </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="delete-modal" tabindex="-1" aria-labelledby="delete-modal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="urlModalLabel">Delete source</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          You are about to delete the source. This cannot be undone, and your sources will be scanned again.
        </div>
        <div id="status-delete" class="deleted-status"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="delete-modal-submit submit btn btn-primary">Delete</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="delete-lora-modal" tabindex="-1" aria-labelledby="delete-lora-modal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="urlModalLabel">Delete Run</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          You are about to delete the run. This cannot be undone!
        </div>
        <div id="status-delete" class="deleted-status"></div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="delete-lora-modal-submit submit btn btn-primary">Delete</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="upload-tab-url-modal" tabindex="-1" aria-labelledby="upload-tab-url-modal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="urlModalLabel">Upload File from URL</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <input placeholder="https://yourserver.com/file.zip" type="url" id="tab-upload-url-input"
              class="form-control">
          </div>
          <div id="status-url" class="uploaded-status"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button class="tab-upload-url-submit btn btn-primary">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast-container position-fixed top-0 end-0 p-3">
    <div class="upload-tab-scan-error-toast toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">
        </div>
        <!-- <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button> -->
      </div>
    </div>
  </div>

  <div class="toast-container position-fixed top-0 end-0 p-3">
    <div class="upload-tab-filter-error-toast toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body">
        </div>
        <!-- <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button> -->
      </div>
    </div>
  </div>


  <div class="modal fade" id="upload-tab-git-modal" tabindex="-1" aria-labelledby="upload-tab-git-modal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="gitModalLabel">Add Git Repository</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Repository URL</label>
            <input placeholder="https://github.com/my_repo/my.git" type="url" id="tab-upload-git-input"
              class="form-control">
          </div>
          <div class="mb-3 form-text ssh-info">
            Please <span class="ssh-link main-tab-button fake-link" data-tab="settings">add SSH Key</span> if you use private repository.
          </div>
          <div class="mb-3 ssh-selector d-none">
            <label class="form-label">SSH Key</label>
            <select class="form-select ssh-key-select">
            </select>
          </div>
          <div class="mb-3">
            <label class="form-label">Branch</label>
            <input placeholder="main" type="text" id="tab-upload-git-brach-input" class="form-control">
            <div class="form-text">
              Optional. If not specified, the default branch will be used.
            </div>
          </div>
          <div id="status-git" class="uploaded-status"></div>
          <button class="tab-upload-git-submit btn btn-primary">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="settings-tab-ssh-modal" tabindex="-1" aria-labelledby="settings-tab-ssh-modal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add SSH Key</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Key Name</label>
            <input type="text" id="tab-settings-key-title-input" class="form-control">
          </div>
          <div class="mb-3 d-none tab-settings-ssh-keywrap">
            <label class="form-label">Your SSH Key</label>
            <div class="tab-settings-ssh">
              <code></code>
            </div>
            <div class="form-text">
              Please copy and paste this Key into your Git repository settings.<br><b>This key will be showed only
                once!</b>
            </div>
          </div>
          <div id="status-ssh" class="uploaded-status"></div>
          <button class="settings-tab-ssh-submit btn btn-primary">Add SSH Key</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="upload-tab-source-settings-modal" tabindex="-1"
    aria-labelledby="upload-tab-source-settings-modal" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="urlModalLabel">GPU-Based Filter Settings</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="filter_loss_threshold" class="form-label">Filter 1: File loss threshold</label>
            <input type="number" min="2" max="10" step="1" class="form-control" id="filter_loss_threshold">
            <div class="form-text">
              If initial loss is too big calculated on a single file, remove it. This likely means the file doesn't contain code, or the code is unusual.
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="tab-upload-source-settings-default btn btn-secondary">Reset to defaults</button>
          <button class="tab-upload-source-settings-submit btn btn-primary">Apply</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="finetune-tab-settings-modal" tabindex="-1" aria-labelledby="finetune-tab-settings-modal" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="urlModalLabel">Finetune Settings</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

          <div class="row">
            <div class="col">
              <div class="mb-3">
                <label for="filter_loss_threshold" class="form-label">Limit time seconds</label>
                <input type="number" step="1" min="600" max="172800" class="form-control" id="limit_time_seconds">
                <div class="form-text">
                  Min 600, Max 3600 * 48
                </div>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="filter_gradcosine_threshold" class="form-label">Max iterations</label>
                <input type="number" step="1" min="10" max="5000" class="form-control" id="max_iterations">
                <div class="form-text">
                  Min 10, Max 5000
                </div>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="limit_train_files" class="form-label">Max epoch</label>
                <input type="number" step="1" min="1" max="500" class="form-control" id="max_epoch">
                <div class="form-text">
                  Min 1, Max 500
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <div class="mb-3">
                <label for="limit_test_files" class="form-label">Warmup num steps</label>
                <input type="number" step="1" min="1" max="100" class="form-control" id="warmup_num_steps">
                <div class="form-text">
                  Max 1, Max 100
                </div>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="limit_time_seconds" class="form-label">Batch size</label>
                <input type="number" step="1" min="4" max="1024" class="form-control" id="batch_size">
                <div class="form-text">
                  Min 4, Max 1024
                </div>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="limit_time_seconds" class="form-label">Lr</label>
                <input type="text" class="form-control" id="lr">
                <div class="form-text">
                  Min 1e-5, Max 300e-5
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="mb-3">
                <label for="limit_time_seconds" class="form-label">Lr decay steps</label>
                <input type="number" step="1" min="10" max="5000" class="form-control" id="lr_decay_steps">
                <div class="form-text">
                  Min 10, Max 5000
                </div>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="limit_time_seconds" class="form-label">Lora R</label>
                <input type="number" step="1" min="4" max="256" class="form-control" id="lora_r">
                <div class="form-text">
                  Min 4, Max 256
                </div>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="limit_time_seconds" class="form-label">Lora Init Scale</label>
                <input type="number" step="0.001" min="0.001" max="1.0" class="form-control" id="lora_init_scale">
                <div class="form-text">
                  Min 0.001, Max 1.0
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="mb-3">
                <label for="limit_time_seconds" class="form-label">Lora Dropout</label>
                <input type="number" step="0.01" min="0.0" max="0.2" class="form-control" id="lora_dropout">
                <div class="form-text">
                  Min 0.0, Max 0.2
                </div>
              </div>
            </div>
            <div class="col">
              <div class="mb-3">
                <label for="limit_time_seconds" class="form-label">Weight Decay</label>
                <input type="number" step="0.1" min="0.0" max="1.0" class="form-control" id="weight_decay">
                <div class="form-text">
                  Min 0.0, Max 1.0
                </div>
              </div>
            </div>
          </div>
          <div class="mb-3">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="low_gpu_mem_mode_finetune" value="" id="low_gpu_mem_mode_finetune">
              <label class="form-check-label" for="low_gpu_mem_mode_finetune">
                Low GPU memory mode
              </label>
              <div class="form-text">
                Optional. If not specified, the default branch will be used.
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="finetune-tab-settings-default btn btn-secondary">Reset to defaults</button>
          <button class="finetune-tab-settings-submit btn btn-primary">Save settings</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="finetune-tab-autorun-settings-modal" tabindex="-1" aria-labelledby="finetune-tab-autorun-settings-modal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Autorun Settings</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h5>Limit training time</h5>
          <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
            <input type="radio" class="fine-tune-input btn-check" name="limit_training_time_minutes" value="30"
              id="btnradio1" autocomplete="off" checked>
            <label class="btn btn-outline-primary" for="btnradio1">30 min</label>

            <input type="radio" class="fine-tune-input btn-check" name="limit_training_time_minutes" value="60"
              id="btnradio2" autocomplete="off">
            <label class="btn btn-outline-primary" for="btnradio2">60 min</label>

            <input type="radio" class="fine-tune-input btn-check" name="limit_training_time_minutes" value="120"
              id="btnradio3" autocomplete="off">
            <label class="btn btn-outline-primary" for="btnradio3">120 min</label>

            <input type="radio" class="fine-tune-input btn-check" name="limit_training_time_minutes" value="240"
              id="btnradio4" autocomplete="off">
            <label class="btn btn-outline-primary" for="btnradio4">240 min</label>
          </div>
          <div class="row mt-4">
            <div class="btn-group" role="group">
              <input type="checkbox" class="btn-check" name="training_monday" value="M" id="btn1" autocomplete="off">
              <label class="btn btn-outline-primary" for="btn1">M</label>
              <input type="checkbox" class="btn-check" name="training_tuesday" value="T" id="btn2" autocomplete="off">
              <label class="btn btn-outline-primary" for="btn2">T</label>
              <input type="checkbox" class="btn-check" name="training_wednesday" value="W" id="btn3" autocomplete="off">
              <label class="btn btn-outline-primary" for="btn3">W</label>
              <input type="checkbox" class="btn-check" name="training_thursday" value="Th" id="btn4" autocomplete="off">
              <label class="btn btn-outline-primary" for="btn4">Th</label>
              <input type="checkbox" class="btn-check" name="training_friday" value="F" id="btn5" autocomplete="off">
              <label class="btn btn-outline-primary" for="btn5">F</label>
              <input type="checkbox" class="btn-check" name="training_saturday" value="Sa" id="btn6" autocomplete="off">
              <label class="btn btn-outline-primary" for="btn6">Sa</label>
              <input type="checkbox" class="btn-check" name="training_sunday" value="Su" id="btn7" autocomplete="off">
              <label class="btn btn-outline-primary" for="btn7">Su</label>
            </div>
          </div>
          <div class="row mt-4 align-items-center">
            <div class="col">
              <input class="form-check-input fine-tune-input" type="checkbox" id="night_run">
              <label class="form-check-label" for="night_run">
                Run at night
              </label>
            </div>
            <div class="col">
              <select class="form-select fine-tune-input night-time" aria-label="Default select example">
              </select>
            </div>
          </div>

          <div class="store-block mt-3">
            Store<input type="number" value="3" class="fine-tune-input form-control store-input"> finished runs
          </div>
        </div>
        <div class="modal-footer">
          <button class="finetune-tab-autorun-settings btn btn-primary">Save settings</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
  <script src="js/app.js" type="module"></script>
</body>

</html>